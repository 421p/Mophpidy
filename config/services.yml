parameters:
  keyboard.default:
    -
      - '👍🏻 Promoted'
      - '❤️ Favorites'
      - '▶️Play'
      - '⏸️Pause'
    -
      - '🔈 Volume 20'
      - '🔉 Volume 60'
      - '🔊 Volume 100'

services:
  React\EventLoop\LoopInterface:
    public: true
    factory: ['React\EventLoop\Factory', create]

  Phpidy\Api\Endpoint:
    arguments: ['%env(MOPIDY_URI)%', '@React\EventLoop\LoopInterface']
    calls:
      - ['connect']
  Phpidy\Api\TrackList:
    arguments: ['@Phpidy\Api\Endpoint']
  Phpidy\Api\Library:
    arguments: ['@Phpidy\Api\Endpoint']
  Phpidy\Api\Playback:
    arguments: ['@Phpidy\Api\Endpoint']
  Phpidy\Api\Mixer:
    arguments: ['@Phpidy\Api\Endpoint']

  Phpidy\Api\Player:
    public: true
    arguments:
      - '@Phpidy\Api\Library'
      - '@Phpidy\Api\TrackList'
      - '@Phpidy\Api\Playback'
      - '@Phpidy\Api\Mixer'

  Longman\TelegramBot\Telegram:
    public: true
    class: 'Phpidy\Telegram\Telegram'
    arguments: ['%env(TELEGRAM_TOKEN)%', '%env(BOT_USERNAME)%', '@React\EventLoop\LoopInterface']
    calls:
      - ['useGetUpdatesWithoutDatabase']

  Phpidy\Telegram\Sender:
    public: true
    arguments: ['%env(TELEGRAM_TOKEN)%', '@React\EventLoop\LoopInterface', '%keyboard.default%']

  Phpidy\Command\CommandHolder:
    public: true

  Phpidy\Telegram\Callback\CallbackStorage:
    arguments: ['@React\EventLoop\LoopInterface']
    public: true